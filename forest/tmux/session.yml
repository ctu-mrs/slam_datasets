name: forest
root: ./
startup_window: rosbag_play
pre_window: export UAV_NAME=uav11; export ROS_MASTER_URI=http://localhost:11311; export ROS_IP=127.0.0.1
windows:
  - roscore:
      layout: tiled
      panes:
        - roscore
  - rosbag_play:
      layout: tiled
      panes:
        - waitForRos; rosparam set use_sim_time true; rosbag play ../forest_dataset.bag --clock -r 1.0 --pause
  - tf_connector:
      layout: tiled
      panes:
        - waitForRos; roslaunch mrs_uav_odometry tf_connector.launch
  - ouster_to_pc:
      layout: tiled
      panes:
        - waitForRos; rosparam set use_sim_time true; roslaunch ouster_ros uav.launch replay:=true metadata:=`pwd`/10.10.20.90.json
  - pcl_filter:
      layout: tiled
      panes:
        - waitForRos; roslaunch mrs_pcl_tools pcl_filter.launch
  - aloam:
      layout: tiled
      panes:
        - waitForRos; roslaunch aloam_slam aloam.launch fcu_frame:=$UAV_NAME/body
  - static_tfs:
      layout: tiled
      panes:
        - waitForRos; rosparam set use_sim_time true; roslaunch ./static_tfs.launch prefix:=slam
  - rviz:
      layout: tiled
      panes:
        - waitForRos; rosparam set use_sim_time true; rosrun rviz rviz -d ./rviz.rviz
